<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تطبيق مشاهدة</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Tajawal",sans-serif;}
body{color:#eee;background:linear-gradient(120deg,#0f0f0f,#1a1a1a,#2c1a3d,#3a1a5d,#2c2c2c);background-size:300% 300%;animation:gradientLayer 30s ease infinite;padding-bottom:60px;}
@keyframes gradientLayer{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

.top-bar{display:flex;align-items:center;justify-content:space-between;padding:5px 15px;height:50px;
background:linear-gradient(120deg,#0f0f0f,#1a1a1a,#2c1a3d,#3a1a5d,#2c2c2c);background-size:300% 300%;
animation:gradientLayer 30s ease infinite;border-bottom:1px solid rgba(255,255,255,0.1);
position:fixed;top:0;left:0;width:100%;z-index:1000;font-family:'Cairo',sans-serif;}
.app-info{display:flex;align-items:center;gap:10px;}
.app-icon{height:35px;width:35px;border-radius:5px;object-fit:cover;}
.app-name{font-weight:700;font-size:20px;background:linear-gradient(90deg,#ff5e62,#ff9966,#ffc371,#70ff9a,#70a1ff);
background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientText 5s ease infinite;}
@keyframes gradientText{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

.video-container{width:100%;max-width:800px;margin:0 auto;position:relative;margin-top:50px;}
video{width:100%;height:220px;background:#000;display:block;}
.quality-select{position:absolute;top:10px;right:10px;z-index:10;background:rgba(0,0,0,0.5);color:#fff;border:none;padding:5px;border-radius:5px;}
.video-icon{position:absolute;top:50%;transform:translateY(-50%);z-index:11;font-size:18px;width:35px;height:35px;
border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;
background:linear-gradient(120deg,#0f0f0f,#1a1a1a,#2c1a3d,#3a1a5d,#2c2c2c);background-size:300% 300%;animation:gradientLayer 10s linear infinite;}
.mute-icon{left:10px;}.fullscreen-icon{right:10px;}
.video-separator{height:6px;width:100%;max-width:800px;margin:0 auto;
background:linear-gradient(270deg,#0d0d0d,#1a1a1a,#4b0082,#6a0dad,#1a1a1a,#0d0d0d);background-size:400% 400%;
animation:separatorMove 8s ease infinite;box-shadow:0 0 8px rgba(90,50,150,0.6);}
@keyframes separatorMove{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

/* قائمة الفلتر أسفل الفاصل */
.filter-menu{max-width:800px;margin:0 auto;display:flex;justify-content:center;gap:10px;flex-wrap:wrap;
background:rgba(30,30,40,0.6);backdrop-filter:blur(12px);
border-radius:0 0 1px 1px;padding:10px 15px;position:relative;z-index:998;}
.filter-option{padding:8px 15px;border-radius:20px;
background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;text-align:center;
cursor:pointer;font-size:14px;transition:transform .3s,background .3s;}
.filter-option:hover{transform:scale(1.1);}
.filter-option.active{background:linear-gradient(135deg,#90ee90,#ffffff,#87ceeb);color:#000;font-weight:bold;}

/* قسم البطاقات */
.channels-wrapper{flex:1;overflow-y:auto;padding:15px 10px 60px;}
.channels-wrapper::-webkit-scrollbar{width:6px;}
.channels-wrapper::-webkit-scrollbar-track{background:rgba(255,255,255,0.05);border-radius:10px;}
.channels-wrapper::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#6a0dad,#3a1a5d);border-radius:10px;}
.channels-wrapper::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,#8e2de2,#4a00e0);}
.channels-section{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
.channel-card{background:linear-gradient(120deg,#1a1a1a,#2c2c2c,#3a1a5d);border-radius:10px;overflow:hidden;text-align:center;color:#fff;
box-shadow:0 3px 8px rgba(0,0,0,0.4);transition:transform .3s,box-shadow .3s;cursor:pointer;border:2px solid transparent;}
.channel-card img{width:100%;height:90px;object-fit:cover;}
.channel-card h3{margin:6px 0 2px;font-size:14px;font-weight:bold;}
.channel-card p{font-size:11px;color:#bbb;margin-bottom:6px;}
.channel-card:hover{transform:scale(1.05);box-shadow:0 5px 12px rgba(255,255,255,0.2);}
.channel-card.active{border:2px solid #ff6b81;}

/* شريط القاع */
.bottom-bar{display:flex;justify-content:space-around;align-items:center;position:fixed;bottom:0;left:0;width:100%;height:50px;
background:linear-gradient(120deg,#0f0f0f,#1a1a1a,#2c1a3d,#3a1a5d,#2c2c2c);background-size:300% 300%;
animation:gradientLayer 30s ease infinite;border-top:1px solid rgba(255,255,255,0.1);z-index:1000;font-family:'Cairo',sans-serif;}
.bottom-item{display:flex;flex-direction:column;align-items:center;font-size:12px;color:#eee;cursor:pointer;transition:transform .3s,color .3s;}
.bottom-item i{font-size:18px;margin-bottom:2px;}
.bottom-item:hover{transform:scale(1.1);color:#ff6b81;}
</style>
</head>
<body>

<div class="top-bar">
  <div class="app-info">
    <img src="https://g.top4top.io/p_3515f8pc10.png" alt="شعار التطبيق" class="app-icon">
    <div class="app-name">تلفزيوني</div>
  </div>
</div>

<div class="video-container">
  <video id="mainVideo" autoplay muted playsinline></video>
  <select id="qualitySelect" class="quality-select"></select>
  <i id="muteBtn" class="fas fa-volume-mute video-icon mute-icon"></i>
  <i id="fullscreenBtn" class="fas fa-expand video-icon fullscreen-icon"></i>
</div>

<!-- الفاصل المتدرج -->
<div class="video-separator"></div>

<!-- قائمة الفلتر أسفل الفاصل -->
<div class="filter-menu" id="filterMenu">
  <div class="filter-option active" data-filter="all">الكل</div>
  <div class="filter-option" data-filter="رياضية">رياضية</div>
  <div class="filter-option" data-filter="ترفيهية">ترفيهية</div>
  <div class="filter-option" data-filter="أطفال">أطفال</div>
  <div class="filter-option" data-filter="إخبارية">إخبارية</div>
  
</div>

<!-- قسم القنوات -->
<div class="channels-wrapper">
  <div class="channels-section" id="channelsList">
    <div class="channel-card" data-src="http://stream.shabakaty.com:6016/sport/ch15/adaptive.m3u8" data-type="رياضية">
      <img src="https://b.top4top.io/p_35194eb5q1.jpg" alt="قناة 1">
      <h3>الكاس 1</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6016/sport/ch16/adaptive.m3u8" data-type="رياضية">
      <img src="https://a.top4top.io/p_3519ju2ps0.jpg" alt="قناة 2">
      <h3>الكاس 2</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6010/sport/ch9/adaptive.m3u8" data-type="رياضية">
      <img src="https://c.top4top.io/p_35193g7520.jpg" alt="قناة 3">
      <h3>SSC 1</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6011/sport/ch10/adaptive.m3u8" data-type="رياضية">
      <img src="https://d.top4top.io/p_35195cgci1.jpg" alt="قناة 4">
      <h3>SSC 1</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="https://wo.cma.footballii.ir/hls2/b1.m3u8" data-type="رياضية">
      <img src="https://d.top4top.io/p_3522ahs5c0.jpg" alt="قناة 4">
      <h3>بين سبورت 1</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6012/sport/ch11/adaptive.m3u8" data-type="رياضية">
      <img src="https://i.top4top.io/p_3519jx6lz0.jpg" alt="قناة 5">
      <h3>ON SPORT 1</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6015/sport/ch14/adaptive.m3u8" data-type="رياضية">
      <img src="https://j.top4top.io/p_3519fd18z1.jpg" alt="قناة 5">
      <h3>ON SPORT 2</h3>
      <p>رياضية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6033/enter/ch12/adaptive.m3u8" data-type="إخبارية">
      <img src="https://c.top4top.io/p_35194jbbs0.jpg" alt="قناة 5">
      <h3>الشرقية</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6033/enter/ch12/adaptive.m3u8" data-type="إخبارية">
      <img src="https://a.top4top.io/p_3519smqa30.jpg" alt="قناة 5">
      <h3>دجلة</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6035/enter/ch14/adaptive.m3u8" data-type="إخبارية">
      <img src="https://h.top4top.io/p_35193kdqz0.png" alt="قناة 5">
      <h3>utv</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6036/enter/ch15/adaptive.m3u8" data-type="إخبارية">
      <img src="https://d.top4top.io/p_3519d7c9k0.jpg" alt="قناة 5">
      <h3>السومرية</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6036/enter/ch15/adaptive.m3u8" data-type="إخبارية">
      <img src="https://a.top4top.io/p_3519ou26k0.jpg" alt="قناة 5">
      <h3>الرشيد</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6037/enter/ch17/adaptive.m3u8" data-type="إخبارية">
      <img src="https://b.top4top.io/p_3519gvy4j1.jpg" alt="قناة 5">
      <h3>الرابعة 4</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/news/ch7/adaptive.m3u8" data-type="إخبارية">
      <img src="https://c.top4top.io/p_35193tlfc0.jpg" alt="قناة 5">
      <h3>الفرات</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/news/ch8/adaptive.m3u8" data-type="إخبارية">
      <img src="https://d.top4top.io/p_3519r5mgf1.png" alt="قناة 5">
      <h3>كربلاء</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/news/ch3/adaptive.m3u8" data-type="إخبارية">
      <img src="https://c.top4top.io/p_35194jbbs0.jpg" alt="قناة 5">
      <h3>الشرقية</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/news/ch28/adaptive.m3u8" data-type="إخبارية">
      <img src="https://k.top4top.io/p_3519bot140.jpg" alt="قناة 5">
      <h3>الحدث</h3>
      <p>إخبارية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/series/ch1/adaptive.m3u8" data-type="ترفيهية">
      <img src="https://g.top4top.io/p_3519mdk3d0.png" alt="قناة 5">
      <h3>السينما التركية&مترجم</h3>
      <p>ترفيهية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/series/ch4/adaptive.m3u8" data-type="ترفيهية">
      <img src="https://f.top4top.io/p_3519ilr110.jpg" alt="قناة 5">
      <h3>السينما الأجنبية</h3>
      <p>ترفيهية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/series/ch11/adaptive.m3u8" data-type="ترفيهية">
      <img src="https://g.top4top.io/p_3519dpwls0.jpg" alt="قناة 5">
      <h3>Cbc دراما</h3>
      <p>ترفيهية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/series/ch2/adaptive.m3u8" data-type="ترفيهية">
      <img src="https://d.top4top.io/p_3519khwi90.jpg" alt="قناة 5">
      <h3>المنصة</h3>
      <p>ترفيهية</p>
    </div>
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/series/ch10/adaptive.m3u8" data-type="ترفيهية">
      <img src="https://e.top4top.io/p_3519msa9g0.jpg" alt="قناة 5">
      <h3>النهار</h3>
      <p>ترفيهية</p>
    </div
    <div class="channel-card" data-src="http://stream.shabakaty.com:6001/kids/ch5/adaptive.m3u8" data-type="أطفال">
      <img src="https://a.top4top.io/p_3519xo19p0.jpeg" alt="قناة 5">
      <h3>سبيستون</h3>
      <p>أطفال</p>
    </div>
  </div>
</div>

<div class="bottom-bar">
  <div class="bottom-item" onclick="window.location.href='go:x'"><i class="fas fa-home"></i><span>الرئيسية</span></div>
  <div class="bottom-item" onclick="window.location.href='go:x'"><i class="fas fa-search"></i><span>بحث</span></div>
  <div class="bottom-item"><i class="fas fa-tv"></i><span>القنوات</span></div>
  <div class="bottom-item" onclick="window.location.href='go:x'"><i class="fas fa-th-large"></i><span>الأقسام</span></div>
</div>

<script>
const video=document.getElementById('mainVideo');
const qualitySelect=document.getElementById('qualitySelect');
const muteBtn=document.getElementById('muteBtn');
const fullscreenBtn=document.getElementById('fullscreenBtn');
let hls;

function loadEpisode(src){
  if(hls){hls.destroy();hls=null;}
  if(Hls.isSupported()){
    hls=new Hls();
    hls.loadSource(src);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED,function(){
      const levels=hls.levels;qualitySelect.innerHTML='';
      levels.forEach((level,index)=>{
        const option=document.createElement('option');
        option.value=index;option.text=level.height+"p";qualitySelect.appendChild(option);
      });
      video.play().catch(err=>console.log("منع التشغيل التلقائي:",err));
    });
    hls.on(Hls.Events.LEVEL_SWITCHED,(event,data)=>{qualitySelect.value=data.level;});
  } else if(video.canPlayType('application/vnd.apple.mpegurl')){
    video.src=src;video.play().catch(err=>console.log("منع التشغيل التلقائي:",err));
  }
}
qualitySelect.addEventListener('change',()=>{if(hls){hls.currentLevel=parseInt(qualitySelect.value);}});
muteBtn.addEventListener('click',()=>{video.muted=!video.muted;muteBtn.className=video.muted?"fas fa-volume-mute video-icon mute-icon":"fas fa-volume-up video-icon mute-icon";});
fullscreenBtn.addEventListener('click',()=>{if(!document.fullscreenElement){video.requestFullscreen().catch(err=>console.log(err));}else{document.exitFullscreen();}});

// ربط البطاقات مع المشغل
const cards=document.querySelectorAll('.channel-card');
cards.forEach(card=>{
  card.addEventListener('click',()=>{
    cards.forEach(c=>c.classList.remove('active'));
    card.classList.add('active');
    loadEpisode(card.getAttribute('data-src'));
  });
});
// تشغيل أول قناة تلقائياً
window.addEventListener('load',()=>{if(cards.length>0){cards[0].classList.add('active');loadEpisode(cards[0].getAttribute('data-src'));}});

// فلترة القنوات
const filterOptions=document.querySelectorAll('.filter-option');
filterOptions.forEach(option=>{
  option.addEventListener('click',()=>{
    filterOptions.forEach(o=>o.classList.remove('active'));
    option.classList.add('active');
    const filter=option.getAttribute('data-filter');
    cards.forEach(card=>{
      if(filter==="all"||card.getAttribute('data-type')===filter){
        card.style.display="block";
      }else{card.style.display="none";}
    });
  });
});
</script>
</body>
</html>